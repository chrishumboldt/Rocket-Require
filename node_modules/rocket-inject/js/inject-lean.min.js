var Rocket="object"==typeof Rocket?Rocket:{};Rocket.defaults||(Rocket.defaults={}),Rocket.defaults.inject={errors:!0};var RocketInjectComponent;!function(e){function t(e,t){var n="";switch(typeof e){case"object":for(var o=0,r=e;o<r.length;o++){var c=r[o];n+=c}return n;case"string":for(var i=0,a=e.split(/(?:\r\n|\n|\r)/);i<a.length;i++){var c=a[i];n+=c.trim()}return n}if(Rocket.defaults.errors)throw new Error('Injectplate: The HTML provided to create the component "'+t+'" is not valid.')}var n={},o={bind:function(e){if(!r.bind(e))return!1;var t="string"==typeof e.to?document.querySelectorAll(e.to):document.getElementById("#"+e.component);if("undefined"==typeof t)return!1;var o="";"object"==typeof e.data&&(o=Mustache.render(n[e.component].html,e.data));for(var c=0,i=t;c<i.length;c++){var a=i[c];if(e.overwrite===!0?a.innerHTML=o:a.insertAdjacentHTML("beforeend",o),a.setAttribute("data-inject","true"),"string"==typeof n[e.component].id&&(a.id=n[e.component].id),"string"==typeof n[e.component].className){var f=a.className.split(" ");f.push(n[e.component].className),f=f.filter(function(e,t,n){return n.indexOf(e)===t}),a.className=f.join(" ")}"function"==typeof n[e.component].onDone&&n[e.component].onDone(a),"function"==typeof e.onDone&&e.onDone(a)}},generate:function(e){if(!r.generate(e))return!1;var t=Mustache.render(n[e.component].html,(e.data,e.data));return"function"==typeof e.onDone&&e.onDone(t),t},register:function(e){if(!r.register(e)){if(Rocket.defaults.errors)throw new Error("Injectplate: Please provide a valid component name.");return!1}n[e.name]={className:"string"==typeof e.className&&e.className,id:"string"==typeof e.id&&e.id,html:t(e.html,e.name),onDone:"function"==typeof e.onDone&&e.onDone,overwrite:"boolean"==typeof e.overwrite&&e.overwrite}}},r={bind:function(e){return"object"==typeof e&&("string"==typeof e.component&&"object"==typeof n[e.component])},generate:function(e){return"object"==typeof e&&"undefined"!=typeof e.component},register:function(e){return"object"==typeof e&&"undefined"!=typeof e.name}};e.bind=o.bind,e.component=o.register,e.flatten=t,e.generate=o.generate,e.list=n}(RocketInjectComponent||(RocketInjectComponent={})),Rocket.inject=RocketInjectComponent;